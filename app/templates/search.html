{% extends "base.html" %}

{% block mycontent %}

{% set name = [] %}    

<br />
<br />
<div class="card-group">
    <div class="row">
      {% for data in data['data'] %}
        {% if data.common_name not in name %}
          <div class="col-md-4 mb-3">
            <div class="card">
              {% if data.default_image.original_url == null %}
                <img style="width: 300px; height: 300px;" class="card-img-top" src="{{ url_for('static', filename='css/images/no_image.png')}}" alt="Card image cap">
              {% else %}
                <img style="width: 300px; height: 300px;" class="card-img-top" src="{{ data.default_image.original_url }}" alt="Card image cap">
              {% endif %}
              <div class="card-body">
                <h5 class="card-title">{{ data.common_name|title }}</h5>
                <i class="card-title">{{ data.scientific_name[0] }}</i>
              </div>
              <ul class="list-group list-group-flush">
                <li class="list-group-item">Watering: <i>{{ data.watering }}</i></li>
                <li class="list-group-item"> 
                    Sunlight: 
                <i> 
                    {% for item in data.sunlight %}
                        {{ item }}{% if not loop.last %},
                        {% endif %}
                    {% endfor %}
                </i>
                </li>
              </ul>
              <form action="{{url_for('add_to_collection', username=username)}}" method="post">
                  <div class="card-body" style="display: flex; justify-content: center;">
                    <input type="hidden" name="plant_id" value="{{ data.id }}">
                    <button type="submit" class="add-to-inventory-btn">Add to Collection</button>
                        <style>
                        .add-to-inventory-btn {
                            background-color: green;
                            color: white;
                            padding: 10px 20px;
                            border: none;
                            border-radius: 5px;
                            font-size: 15px;
                            cursor: pointer;
                        }
    
                        .add-to-inventory-btn span {
                            margin-left: 5px;
                        }
                        </style>
                  </div>
              </form>
            </div>
            {% set _ = name.append(data.common_name) %}
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>

{% endblock %}